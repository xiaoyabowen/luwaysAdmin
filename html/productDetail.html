<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>后台主题UI框架</title>
    <meta name="keywords">
    <meta name="description">
    <meta name="keywords">
    <meta name="description">
    <!--网页logo-->
    <link href="favicon.ico" rel="shortcut icon" type="image/x-icon" />
    <link href="../resource/css/bootstrap.min.css?v=3.3.6" rel="stylesheet">
    <link href="../resource/css/font-awesome.css?v=4.4.0" rel="stylesheet">
    <link href="../resource/js/plugins/select2/css/select2.css" rel="stylesheet">
    <link href="../resource/js/plugins/bootstarp-table/css/bootstrap-table.min.css" rel="stylesheet">
    <link href="../resource/css/plugins/awesome-bootstrap-checkbox/awesome-bootstrap-checkbox.css" rel="stylesheet">
    <link href="../resource/css/animate.css" rel="stylesheet">
    <link href="../resource/css/style.css?v=4.1.0" rel="stylesheet">
    <link href="../resource/css/common.css" rel="stylesheet">
</head>
<style>

    /*所有按钮动画样式*/
    .sucssBtn{
        display: inline-block;
        width:112px;
        height:40px;
        line-height: 40px;
        border:1px solid rgba(255,150,0,1);
        border-radius:4px;
        text-align: center;
        margin:  0 auto 300px;
        background: #FF9600;
        cursor: pointer;
        overflow: hidden;
        transition: all 0.5s cubic-bezier(0.785,0.135,0.150,0.860);
    }
    .sucssBtn>span{
        display: block;
        width: 100%;
        height: 100%;
        color: #fff;
        position: relative;
        transition: all 0.6s cubic-bezier(0.785,0.135,0.150,0.860) 100ms;
    }
    /*.indexSucssBtn span:after{
        content: "查看更多 >";
    }*/
    .sucssBtn span:after{
        content: attr(data-tit);
        position: absolute;
        width: 100%;
        height: 100%;
        top: 0;
        left: 0;
        color: #FF9600;
        background: #fff;
        transition: all 0.5s cubic-bezier(0.785,0.135,0.150,0.860) 200ms;
        transform: translate(0,100%);
    }
    .sucssBtn:hover span{
        transform: translate(0,-100%);
    }
    .tickerHomeDetailsContent>h4{
        font-weight: bold;
        padding-top: 16px;
        margin-bottom: 12px;
    }


    .hotelHomeDetails{
        margin-bottom: 34px;
        display: flex;
    }
    .hotelHomeDetailsImg{
        position: relative;
    }
    .hotelHomeDetailsImg>img{
        display: block;
        width: 100%;
        height: 440px;
        /*margin-right: 26px;*/
    }
    #otelHomeDetailsthreeJ{
        position: absolute;
        right: 0px;
        top: 30px;
        width: 45px;
        height: 52px;
    }
    .hotelHomeDetailsContent{
        width: 550px;
        background:rgba(255,255,255,1);
        height: 404px;
        /*padding-left: 30px;*/
        padding: 0px 16px 20px;
        position: relative;
    }
    .hotelHomeDetailsContent>h4{
        padding: 24px 0 32px 0;
        font-size: 16px;
        color: #333;
        font-weight: bold;
    }
    .tickerHomeDetailsContent>p{
        font-size: 16px;
        margin-bottom: 0 !important;
        line-height: 30px;
    }
    .allPricePosi{
        position: absolute;
        bottom: -48px;
    }
    .allPricePosi>p{
        font-size: 16px;
        margin-top: -6px;
    }
    .tickerDetailsAllPrice{
        font-size: 22px;
        color: #FF9600;
    }
    .tickerDetailsAllPriceaLL{
        color: #FF9600;
        font-size: 16px;
    }
    .ticketYU{
        margin-top: 10px;
    }
    .tickDetailShop{
        background:rgba(222,222,222,1);

        border: 1px solid rgba(222,222,222,1);
    }
    .tickDetailShop>span{
        color: #333;
    }
    /*加入购物车,立即预定*/
    .tickDetailReserve{
        width:149px;
        height:40px;
        line-height: 40px;
        text-align: center;
        border-radius: 4px;
    }
    .tickerDetailsPrice{
        color: #FF9600;
    }
    .tickDetailReserve{
        background: #ff9600;
        font-size: 16px;
        margin:0 10px 0 0 !important;
    }
    .tickDetailShop{
        background:rgba(222,222,222,1);

        border: 1px solid rgba(222,222,222,1);
    }
    .tickDetailShop>span{
        color: #333;
    }

    /*热门酒店*/
    .hotelShowAllMapHot{
        font-size: 18px;
        padding-left: 10px;
        position: relative;
        margin-bottom: 15px;
        margin-top: 10px;
    }
    .hotelShowAllMapHot:before{
        display: inline-block;
        content: '';
        width: 4px;
        height: 20px;
        background:rgba(255,150,0,1);
        position: absolute;
        left: 0;
        top: 2px;
    }
    .tickerContent>h5{
        color: #FF9600;
        line-height: 30px;
        font-size: 16px;
        font-weight: normal;
    }

</style>
<body class="gray-bg">

<div class="wrapper wrapper-content animated fadeInRight">
    <!-- Panel Other -->
    <div class="ibox float-e-margins">
        <div class="ibox-title">
            <h5>产品预览详情</h5>
        </div>

        <div class="ibox-content">
            <div class="row row-lg">
                <div class="col-sm-12">

                    <div class="col-sm-12 tickerContent">
                        <div class="hotelHomeDetails cssFlex">
                            <div class="hotelHomeDetailsImg col-sm-5">
                                <img src="../resource/img/login-background1.jpg" class="hotelHomeDetailsImgTitle" alt="酒店详情" />
                                <img src="../resource/img/threeJ.png" id="otelHomeDetailsthreeJ" alt="三角" />
                            </div>
                            <div class="hotelHomeDetailsContent tickerHomeDetailsContent col-sm-7">
                                <h4 class="ticketTitle ellipsis">巴黎随上随下观光巴士1日票</h4>
                                <p>
                                    产品类型：<span class="ticketType"></span>
                                </p>
                                <p>
                                    服务语言：<span class="ticketLangue"></span>
                                </p>
                                <p>
                                    凭证类型：<span class="ticketPing"></span>
                                </p>
                                <p>
                                    产品编号：<span class="ticketPrduct"></span>
                                </p>
                                <p>
                                    游玩时间：<span class="ticketPlay"></span>
                                </p>
                                <p class="ticketAdult">
                                    <!--<span class="tickerDetailsPrice">成人价格：</span><span>￥305.59/人(成人>18)</span>-->
                                </p>
                                <p class="ticketYong">
                                    <!--<span class="tickerDetailsPrice">青年价格：</span><span>￥305.59/人(成人>18)</span>-->
                                </p>
                                <p  class="ticketChildren">
                                    <!--<span class="tickerDetailsPrice">儿童价格：</span><span>￥305.59/人(成人>18)</span>-->
                                </p>
                                <p class="ticketBaby">
                                    <!--<span class="tickerDetailsPrice">婴儿价格：</span><span>￥305.59/人(成人>18)</span>-->
                                </p>
                                <p class="ticketOld">
                                    <!--<span class="tickerDetailsPrice">婴儿价格：</span><span>￥305.59/人(成人>18)</span>-->
                                </p>
                                <div class="allPricePosi">
                                    <p>
                                        总价：<span class="tickerDetailsAllPrice">￥<i class="tickerDetailsAllPriceaLLNow"></i></span>元
                                    </p>
                                    <p class="cssFlex ticketYU">

                                        <a class="sucssBtn tickDetailReserve tickDetailShop">
                                            <span data-tit="加入购物车 >">加入购物车</span>
                                        </a>
                                        <a class="sucssBtn tickDetailReserve tickDetailReserveJump">
                                            <span data-tit="立即预定 >">立即预定</span>
                                        </a>
                                        <!--<button class="tickerDetailJoinCar">加入购物车</button>
                                        <button class="tickDetailReserve">立即预定</button>-->
                                    </p>
                                </div>

                            </div>
                        </div>
                        <!--产品信息-->
                        <p class="hotelShowAllMapHot">产品信息</p>
                        <h5>产品亮点</h5>
                        <div class="tickerDetailLight"></div>
                        <h5>产品介绍</h5>
                        <div class="tickerDetailPrduct"></div>
                        <p class="hotelShowAllMapHot">产品信息</p>
                        <h5>费用包含：</h5>
                        <div class="tickerDetailCost"></div>
                        <h5>费用不包含：</h5>
                        <div class="tickerDetailNotCost"></div>
                        <h5>预定凭证：</h5>
                        <div class="tickerDetailVoucher"></div>
                        <h5>重要提示：</h5>
                        <div class="tickerDetailTls"></div>
                        <p class="hotelShowAllMapHot">退改规则</p>
                        <div class="tickerDetailRuls"></div>
                    </div>
                    <div class="form-group">
                        <button class="btn btn-success  btn-outline" style="margin-top: 20px" id="btn_add">
                            <i class="fa fa-backward">返回上一页</i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- End Panel Other -->
</div>

<!-- 全局js -->
<script src="../resource/js/jquery.min.js?v=2.1.4"></script>
<script src="../resource/js/bootstrap.min.js?v=3.3.6"></script>
<!-- 自定义js -->
<script src="../resource/js/content.js?v=1.0.0"></script>

<script src="../resource/js/plugins/select2/js/select2.full.js"></script>
<script src="../resource/js/plugins/select2/js/i18n/zh-CN.js"></script>
<script src="../resource/js/plugins/layer/layer.js"></script>
<script src="../resource/js/plugins/laydate/laydate.js"></script>
<!-- ztree -->
<!-- Bootstrap table -->
<script src="../resource/js/plugins/bootstarp-table/js/bootstrap-table.js"></script>
<script src="../resource/js/plugins/bootstarp-table/js/bootstrap-table-zh-CN.min.js"></script>

<script src="../resource/js/plugins/bootstrap-3-typeahead/bootstrap3-typeahead.js"></script>

<script src="../resource/common/multiselect.js"></script>
<script src="../resource/common/common.js?time=" +Math.random()></script>
<script>
    $("#btn_add").click(function () {
        closeMyselfInIframe()
        addMenuItem("../html/productDetail.html","产品管理");
    })

    $(function () {
        $.ajax({
            url: ticketRestfulControllerDetail,
            type: "post",
            dataType: "json",
            xhrFields: {
                withCredentials: true
            },
            crossDomain: true,
            asnyc:true,
            data: {id:getQueryParam("id").id},
            success: function (data) {
                console.log(data)



                $(".ticketTitle").html(data.product.title)      //门票标题
                var serverHttpUrlImg = "https://activities-img.oss-cn-qingdao.aliyuncs.com/" //  门票 访问ip地址  图片
                var str = data.product.thumbnailUrl
                if (data.product.thumbnailUrl == ''  || data.product.thumbnailUrl == null){
                    $(".hotelHomeDetailsImgTitle").attr("src","../resource/img/login-background1.jpg")
                }else if(str.indexOf("http:")>=0){
                    ticketList += '<img src="'+data.product.thumbnailUrl+'" alt="玩乐照片" />'
                }else {
                    $(".hotelHomeDetailsImgTitle").attr("src",serverHttpUrlImg+data.product.thumbnailUrl)
                }


                $(".ticketType").html(data.product.categories[0].name)      //产品类型
                $(".ticketLangue").html(data.product.languageService)      //服务语言
                $(".ticketPrduct").html(data.product.code)      //产品编号
                $(".ticketPlay").html(data.product.duration)      //游玩时间
                // 凭票类型
                if (data.product.voucherType == "1"){
                    $(".ticketPing").html("电子票")
                }else if(data.product.voucherType == "2"){
                    $(".ticketPing").html("电子确认函")
                }else if(data.product.voucherType == "3"){
                    $(".ticketPing").html("电子票或确认函")
                }else if(data.product.voucherType == "4"){
                    $(".ticketPing").html("实体票")
                }else if(data.product.voucherType == "5"){
                    $(".ticketPing").html("纸质打印版")
                }else if(data.product.voucherType == "6"){
                    $(".ticketPing").html("电子确认函换票")
                }else if(data.product.voucherType == "7"){
                    $(".ticketPing").html("扫码电子票")
                }else {
                    $(".ticketPing").html("无")
                }

                // 产品亮点
                $(".tickerDetailLight").html(data.product.detail.recommend);
                // 产品介绍
                $(".tickerDetailPrduct").html(data.product.detail.introduce)
                // 费用包含
                $(".tickerDetailCost").html(data.product.detail.inclusions)
                // 费用不包含
                $(".tickerDetailNotCost").html(data.product.detail.exclusions)
// 预定凭证


                $(".tickerDetailVoucher").html(data.product.detail.voucherRequirements)
// 重要提示
                $(".tickerDetailTls").html(data.product.detail.importantTips)

// 退改规则
                $(".tickerDetailRuls").html(data.product.detail.refundRules)
                var productSku = data.productSkuList[0].ageBandList
                for (var i=0;i<productSku.length;i++){
                    if(productSku[i].bandId == 2){
                        var adultPriceTwo = productSku[i].priceCNY
                        var adultPriceTwoNow = productSku[i].price
                        var adultPriceTwoAge = productSku[i].ageFrom
                        var adultPriceTwoAgeTo =productSku[i].ageTo
                        adultPriceTwo = adultPriceTwo.toFixed(2);
                        $(".ticketAdult").html("<span class='tickerDetailsPrice'>成人价格：</span><span>￥ <i class='adultPrice' >"+adultPriceTwo+"</i><i class='adultPriceNow' style='display:none;'>"+adultPriceTwoNow+"</i> /人( "+adultPriceTwoAge+"<成人<"+adultPriceTwoAgeTo+")</span>")


                    }
                    if(productSku[i].bandId == 3){
                        var childPriceTwo = productSku[i].priceCNY
                        var childPriceTwoNow = productSku[i].price
                        var adultPriceTwoAge =productSku[i].ageFrom
                        var adultPriceTwoAgeTo = productSku[i].ageTo
                        childPriceTwo = childPriceTwo.toFixed(2);
                        $(".ticketChildren").html("<span class='tickerDetailsPrice'>儿童价格：</span><span>￥<i class='childPrice'>"+childPriceTwo+"</i><i class='childPriceNow' style='display: none'>"+childPriceTwoNow+"</i>/人("+adultPriceTwoAge+"<儿童<"+adultPriceTwoAgeTo+")</span>")

                    }
                    if(productSku[i].bandId == 4){
                        var babyPriceTwo = productSku[i].priceCNY;
                        var babyPriceTwoNow = productSku[i].price;
                        var adultPriceTwoAge = productSku[i].ageFrom
                        var adultPriceTwoAgeTo = productSku[i].ageTo
                        babyPriceTwo = babyPriceTwo.toFixed(2);
                        $(".ticketBaby").html("<span class='tickerDetailsPrice'>婴儿价格：</span><span>￥<i class='babyPrice'>"+babyPriceTwo+"</i><i class='babyPriceNow' style='display: none'>"+babyPriceTwoNow+"</i>/人("+adultPriceTwoAge+"<婴儿<"+adultPriceTwoAgeTo+")</span>")

                    }
                    if(productSku[i].bandId == 5){
                        var youngPriceTwo = Number(productSku[i].priceCNY)
                        var youngPriceTwoNow = Number(productSku[i].price)
                        var adultPriceTwoAge = productSku[i].ageFrom
                        var adultPriceTwoAgeTo = productSku[i].ageTo
                        youngPriceTwo = youngPriceTwo.toFixed(2);
                        youngPriceTwoNow = youngPriceTwoNow.toFixed(2);
                        $(".ticketYong").html("<span class='tickerDetailsPrice'>青年价格：</span><span>￥<i class='youngPrice'>"+youngPriceTwo+"</i><i class='youngPriceNow' style='display: none'>"+youngPriceTwoNow+"</i>/人("+adultPriceTwoAge+"<青年<"+adultPriceTwoAgeTo+")</span>")

                    }
                    if(productSku[i].bandId == 6){
                        var oldPriceTwo = productSku[i].priceCNY
                        var oldPriceTwoNow = productSku[i].price
                        var adultPriceTwoAge = productSku[i].ageFrom
                        var adultPriceTwoAgeTo = productSku[i].ageTo
                        oldPriceTwo = oldPriceTwo.toFixed(2);
                        $(".ticketOld").html("<span class='tickerDetailsPrice'>老人价格：</span><span>￥<i class='oldPrice'>"+oldPriceTwo+"</i><i class='oldPriceNow' style='display: none'>"+oldPriceTwoNow+"</i>/人("+adultPriceTwoAge+"<老人<"+adultPriceTwoAgeTo+")</span>")

                    }
                }

                $(".tickerDetailsAllPriceaLLNow").html($(".adultPrice").html());   //总价
            },
            error: function () {
                //layer.close(index);
                layer.msg("请求出错", {
                    icon: 2
                });
            }

        });
    })

</script>
</body>

</html>
